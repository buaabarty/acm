<html><body bgcolor="#ffffff" text="#000000"><table><tr><td colspan="2"><h3>Problem Statement</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td>Manao is conducting an experiment to measure the humidity level of some spongy material. The experiment is conducted in a closed room which is observed from a side, so we will consider it in two dimensions.
<br></br><br></br>
The room is N centimeters wide. There are N drop counters built in the ceiling of the room. Drop counter 0 is attached 0.5 centimeters from the left end of the room, and each next one is attached 1 centimeter to the right of the previous one. You are given a vector &lt;string&gt; <b>intensity</b> filled with digits. Concatenate its elements to obtain one string S of length N. The i-th (0-based index) drop counter drips exactly S[i] drops per minute, where S[i] is the digit at the i-th position in S.
<br></br><br></br>
Manao is going to place <b>M</b> sponges in the room. All sponges are exactly <b>L</b> centimeters long and their thickness is negligible.
Each sponge must be placed horizontally, it must be entirely within the room, and the distance between the left wall of the room and the sponge must be an integer.
In other words, the coordinate of its left end must be an integer between 0 and N-<b>L</b>, inclusive.
Different sponges must be attached at different heights.
Each sponge will totally absorb every drop that drips at it.
For example, in the following picture, the sponges (from top to bottom) absorb 12, 5, and 3 drops per minute.
<br></br><br></br>
<img src="http://www.topcoder.com/contest/problem/TheExperiment/pic2.png"></img>
<br></br>
The experiment requires the sponges to be attached in such a way that each of them absorbs between <b>A</b> and <b>B</b> drops per minute, inclusive.
Manao is interested in the number of ways in which this can be done.
Two ways P and Q of attaching the sponges are the same if and only if for each sponge S1 in P there exists a sponge S2 in Q such that S1 and S2 lie directly beneath the same sets of drop counters.
A sponge X lies directly beneath a drop counter Y if there is no other sponge between them.
That is, if there is some water dripping from the drop counter Y, it all lands on the sponge X.
Note that according to these definitions the sponges are indistinguishable.
<br></br><br></br>
You are given the vector &lt;string&gt; <b>intensity</b> and the ints <b>M</b>, <b>L</b>, <b>A</b>, and <b>B</b>.
Count the number of different ways to attach the sponges and return that count modulo 1,000,000,009.</td></tr><tr><td colspan="2"><h3>Definition</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Class:</td><td>TheExperiment</td></tr><tr><td>Method:</td><td>countPlacements</td></tr><tr><td>Parameters:</td><td>vector &lt;string&gt;, int, int, int, int</td></tr><tr><td>Returns:</td><td>int</td></tr><tr><td>Method signature:</td><td>int countPlacements(vector &lt;string&gt; intensity, int M, int L, int A, int B)</td></tr><tr><td colspan="2">(be sure your method is public)</td></tr></table></td></tr><tr><td>&#160;&#160;&#160;&#160;</td></tr><tr><td></td></tr><tr><td colspan="2"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top">-</td><td><b>intensity</b> will contain between 1 and 6 elements, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td>Each element of <b>intensity</b> will be between 1 and 50 characters long, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td>Each element of <b>intensity</b> will consist of digits ('0'-'9') only.</td></tr><tr><td align="center" valign="top">-</td><td><b>M</b> will be between 1 and 300, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>L</b> will be between 1 and N, inclusive, where N is the total number of characters in intensity.</td></tr><tr><td align="center" valign="top">-</td><td><b>A</b> will be between 1 and 2700, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>B</b> will be between <b>A</b> and 2700, inclusive.</td></tr><tr><td colspan="2"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true">0)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{&quot;341156&quot;}</pre></td></tr><tr><td><pre>3</pre></td></tr><tr><td><pre>3</pre></td></tr><tr><td><pre>6</pre></td></tr><tr><td><pre>10</pre></td></tr></table></td></tr><tr><td><pre>Returns: 2</pre></td></tr><tr><td><table><tr><td colspan="2">Manao needs to place three sponges of length 3 in such a way that they absorb between 6 and 10 drops per minute. The valid ways to attach the sponges are the following:<br></br>
<img src="http://www.topcoder.com/contest/problem/TheExperiment/pic3.png"></img>
<br></br>
In the first way, the sponges receive 8, 6 and 6 drops, from highest to lowest. In the second way, they absorb 7, 7 and 6. Note that Manao could interchange the heights of the lower two sponges in the second picture, but this would result in the same way.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">1)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{&quot;999112999&quot;}</pre></td></tr><tr><td><pre>2</pre></td></tr><tr><td><pre>4</pre></td></tr><tr><td><pre>21</pre></td></tr><tr><td><pre>30</pre></td></tr></table></td></tr><tr><td><pre>Returns: 2</pre></td></tr><tr><td><table><tr><td colspan="2">One of the platforms should have its left end exactly at the left wall. The other's left end can be either 4 or 5 centimeters away from the left wall.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">2)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{&quot;111&quot;}</pre></td></tr><tr><td><pre>2</pre></td></tr><tr><td><pre>2</pre></td></tr><tr><td><pre>2</pre></td></tr><tr><td><pre>3</pre></td></tr></table></td></tr><tr><td><pre>Returns: 0</pre></td></tr><tr><td><table><tr><td colspan="2">One of the platforms will never receive enough drops.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">3)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{&quot;59059&quot;, &quot;110&quot;, &quot;1132230231&quot;}</pre></td></tr><tr><td><pre>1</pre></td></tr><tr><td><pre>5</pre></td></tr><tr><td><pre>10</pre></td></tr><tr><td><pre>20</pre></td></tr></table></td></tr><tr><td><pre>Returns: 6</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">4)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>{&quot;111111111111111111111111&quot;, &quot;111111111111111111111111111&quot;, &quot;11111111111111111111111&quot;}</pre></td></tr><tr><td><pre>12</pre></td></tr><tr><td><pre>8</pre></td></tr><tr><td><pre>4</pre></td></tr><tr><td><pre>2700</pre></td></tr></table></td></tr><tr><td><pre>Returns: 418629948</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr></table><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2003, TopCoder, Inc.  All rights reserved.  </p></body></html>

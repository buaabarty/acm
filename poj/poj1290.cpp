#include <cstring>
#include <iostream>
#include <cstdio>
using namespace std;
/*
3阶魔方置换数组
面依次为：
     4
   0 1 2 3
     5
a[d1]=b[d2]即为b正向拧至a，反之亦然
数字从1~54
*/
int d1[6][20]={
	{12,24,36,35,34,22,10,11,52,49,46,37,25,13,7,4,1,21,33,45},
	{15,14,27,39,38,37,25,13,46,47,48,40,28,16,9,8,7,12,24,36},
	{18,30,42,41,40,28,16,17,48,51,54,43,31,19,3,6,9,15,27,39},
	{19,20,21,33,45,44,43,31,54,53,52,34,22,10,1,2,3,18,30,42},
	{1,2,3,6,9,8,7,4,13,14,15,16,17,18,19,20,21,10,11,12},
	{46,47,48,51,54,53,52,49,45,44,43,42,41,40,39,38,37,36,35,34}
};
int d2[6][20]={
	{10,11,12,24,36,35,34,22,37,25,13,7,4,1,21,33,45,52,49,46},
	{13,25,14,15,27,39,38,37,40,28,16,9,8,7,12,24,36,46,47,48},
	{16,17,18,30,42,41,40,28,43,31,19,3,6,9,15,27,39,48,51,54},
	{43,31,19,20,21,33,45,44,34,22,10,1,2,3,18,30,42,54,53,52},
	{7,4,1,2,3,6,9,8,16,17,18,19,20,21,10,11,12,13,14,15},
	{52,49,46,47,48,51,54,53,42,41,40,39,38,37,36,35,34,45,44,43}
};
char dat[54];
void change(int k)//k为正数为顺时针，k为负数为逆时针
{
    char temp[54];
    for (int i = 0; i < 54; ++i) temp[i] = dat[i];
    if (k > 0){
        for (int i = 0; i < 20; ++i)
            dat[d1[k - 1][i] - 1] = temp[d2[k - 1][i] - 1];
    }
    else{
        k = -k;
        for (int i = 0; i < 20; ++i)
            dat[d2[k - 1][i] - 1] = temp[d1[k - 1][i] - 1];
    }
}
int main()
{
    int t, x;
    scanf("%d\n", &t);
    while (t--)
    {
        for (int i = 0; i < 54; ++i) cin >> dat[i];
        scanf("%d", &x);
        while (x)
        {
            change(x);
            scanf("%d", &x);
        }
        bool flag = true;
        for (int i = 0; i < 9; ++i) if (dat[i] != dat[0]) flag = false;
        for (int i = 0; i < 3; ++i)
            for (int j = 0; j < 3; ++j) if (dat[9 + i * 12 + j] != dat[9]) flag = false;
        for (int i = 0; i < 3; ++i)
            for (int j = 3; j < 6; ++j) if (dat[9 + i * 12 + j] != dat[12]) flag = false;
        for (int i = 0; i < 3; ++i)
            for (int j = 6; j < 9; ++j) if (dat[9 + i * 12 + j] != dat[15]) flag = false;
        for (int i = 0; i < 3; ++i)
            for (int j = 9; j < 12; ++j) if (dat[9 + i * 12 + j] != dat[18]) flag = false;
        for (int i = 45; i < 54; ++i) if (dat[i] != dat[45]) flag = false;
        if (flag) printf("Yes, grandpa!\n");
        else printf("No, you are wrong!\n");
    }
    return 0;
}
